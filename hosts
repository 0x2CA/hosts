url_1="https://coding.net/u/scaffrey/p/hosts/git/raw/master/hosts"
url_2="https://raw.githubusercontent.com/racaljk/hosts/master/hosts"

if [ $# -eq 0 ]
then
  tools=curl
  out="-#o"
else
  tools=$1
  out="-o"
fi

echo "正在更新 hosts..."
$tools $url_1 $2 $3 $4 $5 $6 $out /tmp/hosts
if [ $? != 0 ]
then
  echo "hosts 下载失败"
  echo "正在更新 hosts...(备用地址)"
  $tools $url_2 $2 $3 $4 $5 $6 $out /tmp/hosts
fi
if [ $? != 0 ]
then
  echo "hosts 下载失败"
  exit 2
fi

sudo cp /etc/hosts /etc/hosts.backup
sudo cp /tmp/hosts /etc/hosts
rm -f /tmp/hosts
